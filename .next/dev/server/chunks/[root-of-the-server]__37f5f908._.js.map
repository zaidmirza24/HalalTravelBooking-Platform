{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/mirza/OneDrive/Desktop/Projects/Halaltravelbookingplatform/lib/liteapi-client.ts"],"sourcesContent":["/**\n * LiteAPI SDK Client Wrapper\n *\n * Centralized LiteAPI SDK instance for server-side use only.\n * Ensures API key is never exposed to the client.\n */\n\nimport liteApiSdk from 'liteapi-node-sdk';\n\n// Validate API key exists\nconst apiKey = process.env.LITEAPI_KEY;\n\nif (!apiKey) {\n  throw new Error(\n    'LITEAPI_KEY environment variable is not set. Please check your .env.local file.'\n  );\n}\n\n// Initialize the LiteAPI SDK client\nexport const liteApiClient = liteApiSdk(apiKey);\n\n// Log initialization in development\nif (process.env.NODE_ENV === 'development') {\n  console.log('‚úÖ LiteAPI SDK initialized successfully');\n}\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;AAED;;AAEA,0BAA0B;AAC1B,MAAM,SAAS,QAAQ,GAAG,CAAC,WAAW;AAEtC,IAAI,CAAC,QAAQ;IACX,MAAM,IAAI,MACR;AAEJ;AAGO,MAAM,gBAAgB,IAAA,4JAAU,EAAC;AAExC,oCAAoC;AACpC,wCAA4C;IAC1C,QAAQ,GAAG,CAAC;AACd"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/mirza/OneDrive/Desktop/Projects/Halaltravelbookingplatform/app/api/rates/route.ts"],"sourcesContent":["/**\n * POST /api/rates\n *\n * Get live prices & availability for hotels\n *\n * Request Body:\n * {\n *   \"hotelIds\": [\"lp3803c\", \"lp24a8\"],           // Array of hotel IDs\n *   \"checkin\": \"2024-12-20\",                      // Check-in date (YYYY-MM-DD)\n *   \"checkout\": \"2024-12-22\",                     // Check-out date (YYYY-MM-DD)\n *   \"currency\": \"USD\",                            // Currency code\n *   \"guestNationality\": \"US\",                     // Guest country code\n *   \"occupancies\": [                              // Rooms and guests\n *     {\n *       \"rooms\": 1,\n *       \"adults\": 2,\n *       \"children\": [5, 7]                        // Optional: children ages\n *     }\n *   ],\n *   \"guestId\": \"guest123\"                         // Optional: guest identifier\n * }\n *\n * Example: POST /api/rates\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { liteApiClient } from '@/lib/liteapi-client';\n\ninterface RatesRequestBody {\n  hotelIds: string[];\n  checkin: string;\n  checkout: string;\n  currency: string;\n  guestNationality: string;\n  occupancies: Array<{\n    rooms: number;\n    adults: number;\n    children?: number[];\n  }>;\n  guestId?: string;\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body: RatesRequestBody = await request.json();\n\n    // Validate required fields\n    const requiredFields = [\n      'hotelIds',\n      'checkin',\n      'checkout',\n      'currency',\n      'guestNationality',\n      'occupancies',\n    ];\n\n    for (const field of requiredFields) {\n      if (!body[field as keyof RatesRequestBody]) {\n        return NextResponse.json(\n          {\n            error: 'Bad Request',\n            message: `Missing required field: ${field}`,\n          },\n          { status: 400 }\n        );\n      }\n    }\n\n    // Validate hotel IDs is an array\n    if (!Array.isArray(body.hotelIds) || body.hotelIds.length === 0) {\n      return NextResponse.json(\n        {\n          error: 'Bad Request',\n          message: 'hotelIds must be a non-empty array',\n        },\n        { status: 400 }\n      );\n    }\n\n    // Log in development\n    if (process.env.NODE_ENV === 'development') {\n      console.log('üí∞ Fetching rates for hotels:', {\n        hotels: body.hotelIds,\n        dates: `${body.checkin} to ${body.checkout}`,\n        occupancies: body.occupancies,\n      });\n    }\n\n    // Call LiteAPI SDK\n    const result = await liteApiClient.getFullRates(body);\n\n    return NextResponse.json(result);\n  } catch (error: any) {\n    console.error('‚ùå Error fetching rates:', error);\n\n    return NextResponse.json(\n      {\n        error: 'Internal Server Error',\n        message: error.message || 'Failed to fetch rates',\n        details: process.env.NODE_ENV === 'development' ? error : undefined,\n      },\n      { status: error.status || 500 }\n    );\n  }\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;CAuBC;;;;AAED;AACA;;;AAgBO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,OAAyB,MAAM,QAAQ,IAAI;QAEjD,2BAA2B;QAC3B,MAAM,iBAAiB;YACrB;YACA;YACA;YACA;YACA;YACA;SACD;QAED,KAAK,MAAM,SAAS,eAAgB;YAClC,IAAI,CAAC,IAAI,CAAC,MAAgC,EAAE;gBAC1C,OAAO,gJAAY,CAAC,IAAI,CACtB;oBACE,OAAO;oBACP,SAAS,CAAC,wBAAwB,EAAE,OAAO;gBAC7C,GACA;oBAAE,QAAQ;gBAAI;YAElB;QACF;QAEA,iCAAiC;QACjC,IAAI,CAAC,MAAM,OAAO,CAAC,KAAK,QAAQ,KAAK,KAAK,QAAQ,CAAC,MAAM,KAAK,GAAG;YAC/D,OAAO,gJAAY,CAAC,IAAI,CACtB;gBACE,OAAO;gBACP,SAAS;YACX,GACA;gBAAE,QAAQ;YAAI;QAElB;QAEA,qBAAqB;QACrB,wCAA4C;YAC1C,QAAQ,GAAG,CAAC,iCAAiC;gBAC3C,QAAQ,KAAK,QAAQ;gBACrB,OAAO,GAAG,KAAK,OAAO,CAAC,IAAI,EAAE,KAAK,QAAQ,EAAE;gBAC5C,aAAa,KAAK,WAAW;YAC/B;QACF;QAEA,mBAAmB;QACnB,MAAM,SAAS,MAAM,2IAAa,CAAC,YAAY,CAAC;QAEhD,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,2BAA2B;QAEzC,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,OAAO;YACP,SAAS,MAAM,OAAO,IAAI;YAC1B,SAAS,uCAAyC,QAAQ;QAC5D,GACA;YAAE,QAAQ,MAAM,MAAM,IAAI;QAAI;IAElC;AACF"}}]
}